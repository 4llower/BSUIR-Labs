#!/usr/bin/env python3

import argparse
from create_serializer import create_serializer, SupportedSerializers

parser = argparse.ArgumentParser(description="Specify the formats and paths")

# Required args
parser.add_argument('--src', help="path to file where placed object which need to convert", type=str)
parser.add_argument('--to', help="destination to file where need to put converted object", type=str)
parser.add_argument('--format', help="format of final object",
                    type=SupportedSerializers, choices=list(SupportedSerializers))
parser.add_argument('--primary', help="format of original object",
                    type=SupportedSerializers, choices=list(SupportedSerializers))

# Optional args
parser.add_argument('--env', help="path to environment file", type=str)

args = parser.parse_args()

if args.env:
    print('Env loaded')
elif args.src and args.to and args.format and args.primary:
    print('Loaded')
else:
    print('\033[93m' + 'Follow the next instructions:\n' + '\033[0m')
    print('\033[94m' + 'Environment convert options ->' + '\033[0m')
    print('Add the --env option where placed environment file\n')
    print('\033[94m' + 'Flags convert options -> ' + '\033[0m')
    print('Add the flags: '
          '--src(destination to initial file, ' + '\033[1m' + '--src ~/file.json)' + '\033[0m\n'
          '--to(destination to target converted file, ' + '\033[1m' + '--to ~/target.toml)' + '\033[0m\n'
          '--format(format of target converted file, --format TOML)\n'
          '--primary(format of initial file, --format JSON)\n')

